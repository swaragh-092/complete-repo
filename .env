# SSO Configuration (.env) - CORRECTED FROM LOCAL FILES

# -----------------------------------------------------------------------------
# Database Secrets
# -----------------------------------------------------------------------------
AUTH_DB_PASSWORD=1234  # From auth-service/.env
# Note: In production, please rotate this to a strong password!

# -----------------------------------------------------------------------------
# Application Secrets
# -----------------------------------------------------------------------------
SESSION_SECRET=your-super-secret-random-string-here-change-in-production
FP_SALT=your-secret-salt-here-change-in-production
# From auth-service/.env
KEYCLOAK_ACCOUNT_UI_CLIENT_SECRET=xIOG249tgLkO8M6DIzKRjFVCsoRHYNDl

# -----------------------------------------------------------------------------
# Domains & URLs (HTTPS enabled)
# -----------------------------------------------------------------------------
# Keycloak (Running in keycloak-setup)
KEYCLOAK_URL=http://keycloak:8080
# Browser Access to Keycloak (HTTPS)
FRONTEND_AUTH_URL=https://keycloak.local.test:8443

# Auth Service
AUTH_SERVICE_URL=https://auth.local.test
AUTH_SERVICE_PORT=4000

# Auth UI (Admin Dashboard)
# Note: running on port 5173 in existing setup, mapping to 3000 in docker if desired, 
# but effectively we should match the user's expectation.
# If using Nginx in Docker, we stick to 3000 externally or map to 80. 
# But user has "admin.local.test:5173" in their CORS config.
# We will expose it on 5173 to match their environment.
FRONTEND_URL=https://admin.local.test
VITE_AUTH_UI_API_URL=https://auth.local.test
VITE_AUTH_UI_AUTH_URL=https://keycloak.local.test:8443
AUTH_UI_PORT=5173

# Centralized Login (User Portal)
VITE_LOGIN_CLIENT_KEY=account-ui
VITE_LOGIN_AUTH_BASE_URL=https://auth.local.test/auth
VITE_LOGIN_ACCOUNT_UI_URL=https://account.local.test
VITE_LOGIN_REDIRECT_URI=https://account.local.test/callback
CENTRALIZED_LOGIN_PORT=5174

# -----------------------------------------------------------------------------
# Database Config
# -----------------------------------------------------------------------------
AUTH_DB_NAME=authzotion_db
AUTH_DB_USER=postgres

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
# Corrected for HTTPS as per auth-service/.env
SESSION_COOKIE_SECURE=true
REFRESH_COOKIE_SECURE=true
TRUST_PROXY=true
SESSION_COOKIE_SAMESITE=none
REFRESH_COOKIE_SAMESITE=none
SESSION_COOKIE_DOMAIN=.local.test
REFRESH_COOKIE_DOMAIN=.local.test

# CORS
CORS_FALLBACK_ORIGINS=https://admin.local.test,https://account.local.test,https://pms.local.test

# -----------------------------------------------------------------------------
# Email / SMTP Configuration
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=swaragh82@gmail.com
SMTP_PASS=aqxtriojfqultloy
FROM_EMAIL=swaragh82@gmail.com



# -----------------------------------------------------------------------------
# PMS 
# -----------------------------------------------------------------------------

MAIL_ADDRESS=swaragh091@gmail.com
MAIL_PASSWORD=fmmrvmzikoyiieal
MAIL_SERVICE=gmail


#  URL PREFIX
GLOBAL=http://localhost:8080/
APP=http://localhost:8080/
APP_NAME='nodejs starter'
LOGO='images/logo.webp'
DB_PREFIX=pms
FRONT_END_DOMAIN='http://localhost:5173'

# 32 byte and 16 byte keys used for encoding and decoding
ENC_KEY=4bc12f3e7189a4f25bcd76e8a9d1c2f3
ENC_IV=1a2b3c4d5e6f7g8h

# port
PORT = 8080

# JWT secret keys
JWT_ACCESS_SECRET = 'HelloWorld@123'
JWT_REFRESH_SECRET = 'HelloWorld@123'

ACCESS_TOKEN_EXPIRE_TIME=19 # In minutes
REFRESH_TOKEN_EXPIRE_TIME=188 # In minutes


# Development
# NODE_ENV=production
NODE_ENV=development

RESET_PASSWORD_TOKEN_EXPIRE_TIME=20 # In minutes

# database 
# DB_NAME=pms_shared
# DB_USER=root
# DB_PASSWORD=1234
# DB_HOST=localhost
# DB_PORT=3306
# DB_DIALECT=mysql

# database 
DB_NAME=pms_amd
DB_USER=postgres
DB_PASSWORD=1234
DB_HOST=localhost
DB_PORT=5432
DB_TYPE=postgres
DB_ZONE=+05:30


# project code.
DB_PROJECT_BASE_PATH=pms



# redis configuration
# REDIS_HOST=localhost
REDIS_HOST=redis # use this when dockerized (container name as host)
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password


# -----------------------------------------------------------------------------
# super admin credentials
# -----------------------------------------------------------------------------

# mail credentials details
MAIL_ADDRESS=swaragh091@gmail.com
MAIL_PASSWORD=fmmrvmzikoyiieal
MAIL_SERVICE=gmail


#  URL PREFIX
GLOBAL=http://localhost:8080/
APP=http://localhost:8080/
APP_NAME='nodejs starter'
LOGO='images/logo.webp'
DB_PREFIX=administrator
FRONT_END_DOMAIN='http://localhost:5173'

# 32 byte and 16 byte keys used for encoding and decoding
ENC_KEY='4bc12f3e7189a4f25bcd76e8a9d1c2f3'
ENC_IV=1a2b3c4d5e6f7g8h

# port
PORT = 2500

# JWT secret keys
JWT_ACCESS_SECRET = 'HelloWorld@123'
JWT_REFRESH_SECRET = 'HelloWorld@123'

ACCESS_TOKEN_EXPIRE_TIME=19 # In minutes
REFRESH_TOKEN_EXPIRE_TIME=188 # In minutes


# Development
# NODE_ENV=production
NODE_ENV=localhost

RESET_PASSWORD_TOKEN_EXPIRE_TIME=20 # In minutes

# database 
DB_NAME=super_administrator
DB_USER=postgres
DB_PASSWORD=1234
DB_HOST=localhost
DB_PORT=5432
DB_TYPE=postgres
DB_ZONE=+05:30

#Env
# ENV=development
ENV=production

# how frequently the mail should send in SECONDS.
MAIL_INTERVAL=60