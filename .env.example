# =============================================================================
# GLOBAL SHARED CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=development
ENV=production

# URLs (HTTPS enabled)
GLOBAL=http://localhost:8080/
APP=http://localhost:8080/
APP_NAME=nodejs starter
LOGO='images/logo.webp'
FRONTEND_URL=https://admin.local.test
FRONT_END_DOMAIN='http://localhost:5173'

# Security & Secrets
SESSION_SECRET=change_me_session_secret
FP_SALT=change_me_fingerprint_salt
SERVICE_SECRET=change_me_service_secret
ENC_KEY=change_me_32_byte_key
ENC_IV=change_me_16_byte_iv

# JWT
JWT_ACCESS_SECRET=change_me_jwt_secret
JWT_REFRESH_SECRET=change_me_jwt_refresh_secret
ACCESS_TOKEN_EXPIRE_TIME=19 # In minutes
REFRESH_TOKEN_EXPIRE_TIME=188 # In minutes
RESET_PASSWORD_TOKEN_EXPIRE_TIME=20 # In minutes

# Database (Shared PostgreSQL Instance 'db-pms')
DB_HOST=localhost
DB_PORT=5432
DB_TYPE=postgres
DB_ZONE=+05:30
DB_USER=postgres
DB_PASSWORD=change_me_db_password
PMS_DB_USER=postgres
PMS_DB_PASSWORD=change_me_db_password
# Respective DB Names
AUTH_DB_NAME=authzotion_db
DB_NAME=pms_amd
EMAIL_DB_NAME=email_service

# Redis (Shared)
REDIS_HOST=redis
REDIS_PORT=6379

# SMTP / Email (Shared Credentials)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
FROM_EMAIL=your_email@gmail.com

# Alternate Mail Config
MAIL_ADDRESS=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_SERVICE=gmail
MAIL_INTERVAL=60


# =============================================================================
# AUTH SERVICE
# =============================================================================

AUTH_SERVICE_URL=https://auth.local.test
AUTH_SERVICE_PORT=4000
# Email Service
EMAIL_SERVICE_PORT=4011
EMAIL_DB_PASSWORD=strong_password_here00
AUTH_DB_PASSWORD=change_me_auth_db_password

# Auth UI (Admin Dashboard)
VITE_AUTH_UI_API_URL=https://auth.local.test
VITE_AUTH_UI_AUTH_URL=https://keycloak.local.test:8443
AUTH_UI_PORT=5173

# Centralized Login (User Portal)
VITE_LOGIN_CLIENT_KEY=account-ui
VITE_LOGIN_AUTH_BASE_URL=https://auth.local.test/auth
VITE_LOGIN_ACCOUNT_UI_URL=https://account.local.test
VITE_LOGIN_REDIRECT_URI=https://account.local.test/callback
CENTRALIZED_LOGIN_PORT=5174

# Cookie Settings
SESSION_COOKIE_SECURE=true
REFRESH_COOKIE_SECURE=true
TRUST_PROXY=true
SESSION_COOKIE_SAMESITE=none
REFRESH_COOKIE_SAMESITE=none
SESSION_COOKIE_DOMAIN=.local.test
REFRESH_COOKIE_DOMAIN=.local.test
CORS_FALLBACK_ORIGINS=https://admin.local.test,https://account.local.test,https://pms.local.test,https://super.local.test


# =============================================================================
# KEYCLOAK
# =============================================================================

KEYCLOAK_URL=https://keycloak:8443
FRONTEND_AUTH_URL=https://keycloak.local.test:8443
KEYCLOAK_ACCOUNT_UI_CLIENT_SECRET=change_me_keycloak_secret


# =============================================================================
# PMS (Project Management System)
# =============================================================================

DB_PROJECT_BASE_PATH=pms
PMS_ENC_KEY=change_me_pms_key
PMS_ENC_IV=change_me_pms_iv
PORT=8080 
DB_PREFIX=pms


# =============================================================================
# SUPER ADMINISTRATOR
# =============================================================================

# DB_NAME=super_administrator
# DB_PREFIX=administrator
# PORT=2500 


# =============================================================================
# EMAIL SERVICE (Microservice)
# =============================================================================

EMAIL_SERVICE_URL=http://email-service:4011
QUEUE_MAX_ATTEMPTS=3
POOL=true
MAXCONNECTIONS=5
MAXMESSAGES=100
